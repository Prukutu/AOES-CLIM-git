















<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="last-modified" content="2020-09-16 18:28:02 -0600">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- meta "search-domain" used for google site search function google_search() -->
    <meta name="search-domain" value="">
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/bootstrap-theme.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/lesson.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/syntax.css" />
    <link rel="license" href="#license-info" />

    



    <!-- Favicons for everyone -->
    <link rel="apple-touch-icon-precomposed" sizes="57x57" href="../assets/favicons/swc/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../assets/favicons/swc/apple-touch-icon-114x114.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../assets/favicons/swc/apple-touch-icon-72x72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../assets/favicons/swc/apple-touch-icon-144x144.png" />
    <link rel="apple-touch-icon-precomposed" sizes="60x60" href="../assets/favicons/swc/apple-touch-icon-60x60.png" />
    <link rel="apple-touch-icon-precomposed" sizes="120x120" href="../assets/favicons/swc/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon-precomposed" sizes="76x76" href="../assets/favicons/swc/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../assets/favicons/swc/apple-touch-icon-152x152.png" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-196x196.png" sizes="196x196" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="../assets/favicons/swc/favicon-128.png" sizes="128x128" />
    <meta name="application-name" content="Software Carpentry - Version Control with Git"/>
    <meta name="msapplication-TileColor" content="#FFFFFF" />
    <meta name="msapplication-TileImage" content="../assets/favicons/swc/mstile-144x144.png" />
    <meta name="msapplication-square70x70logo" content="../assets/favicons/swc/mstile-70x70.png" />
    <meta name="msapplication-square150x150logo" content="../assets/favicons/swc/mstile-150x150.png" />
    <meta name="msapplication-wide310x150logo" content="../assets/favicons/swc/mstile-310x150.png" />
    <meta name="msapplication-square310x310logo" content="../assets/favicons/swc/mstile-310x310.png" />


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

  <title>
  Version Control with Git
  </title>  

  </head>
  <body>

    







    <div class="container">
      
















  
  










<nav class="navbar navbar-default">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      
      <a class="navbar-brand" href="../">Home</a>

    </div>
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">

        
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Episodes <span class="caret"></span></a>
          <ul class="dropdown-menu">
            
            
            <li><a href="../01-basics/index.html">Automated Version Control</a></li>
            
            
            <li><a href="../02-setup/index.html">Setting Up and Using Git and Github</a></li>
            
            
            <li><a href="../03-create/index.html">Creating a Repository</a></li>
            
            
            <li><a href="../04-changes/index.html">Tracking Changes</a></li>
            
            
            <li><a href="../05-github/index.html">Remotes in GitHub</a></li>
            
	    <li role="separator" class="divider"></li>
            <li><a href="../aio/index.html">All in one page (Beta)</a></li>
          </ul>
        </li>

	
	
        <li class="dropdown">
          <a href="../" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Extras <span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a href="../reference.html">Reference</a></li>
            
            
            <li><a href="../about/index.html">About</a></li>
            
            
            <li><a href="../discuss/index.html">Discussion</a></li>
            
            
            <li><a href="../figures/index.html">Figures</a></li>
            
            
            <li><a href="../guide/index.html">Instructor Notes</a></li>
            
          </ul>
        </li>
	

      </ul>
      <form class="navbar-form navbar-right" role="search" id="search" onsubmit="google_search(); return false;">
        <div class="form-group">
          <input type="text" id="google-search" placeholder="Search..." aria-label="Google site search">
        </div>
      </form>
    </div>
  </div>
</nav>
















<h1 class="maintitle"><a href="../">Version Control with Git</a></h1>



<article>

<h1 id="automated-version-control" class="maintitle">Automated Version Control</h1>

<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 5 min
      <br />
      <strong>Exercises:</strong> 0 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>What is version control and why should I use it?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Understand the benefits of an automated version control system.</p>
</li>
	
	<li><p>Understand the basics of how automated version control systems work.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<p>We’ll start by exploring how version control can be used
to keep track of what one person did and when.
Even if you aren’t collaborating with other people,
automated version control is much better than this situation:</p>

<p><a href="http://www.phdcomics.com"><img src="../fig/phd101212s.png" alt="Piled Higher and Deeper by Jorge Cham, http://www.phdcomics.com/comics/archive_print.php?comicid=1531" /></a></p>

<p>“Piled Higher and Deeper” by Jorge Cham, http://www.phdcomics.com</p>

<p>We’ve all been in this situation before: it seems ridiculous to have
multiple nearly-identical versions of the same document. Some word
processors let us deal with this a little better, such as Microsoft
Word’s 
<a href="https://support.office.com/en-us/article/Track-changes-in-Word-197ba630-0f5f-4a8e-9a77-3712475e806a">Track Changes</a>, 
Google Docs’ <a href="https://support.google.com/docs/answer/190843?hl=en">version history</a>.</p>

<p>Version control systems start with a base version of the document and
then record changes you make each step of the way. You can
think of it as a recording of your progress: you can rewind to start at the base
document and play back each change you made, eventually arriving at your
more recent version.</p>

<p><img src="../fig/play-changes.svg" alt="Changes Are Saved Sequentially" /></p>

<p>Once you think of changes as separate from the document itself, you
can then think about “playing back” different sets of changes on the base document, ultimately
resulting in different versions of that document. For example, two users can make independent
sets of changes on the same document.</p>

<p><img src="../fig/versions.svg" alt="Different Versions Can be Saved" /></p>

<p>Unless multiple users make changes to the same section of the document - a conflict - you can 
incorporate two sets of changes into the same base document.</p>

<p><img src="../fig/merge.svg" alt="Multiple Versions Can be Merged" /></p>

<p>A version control system is a tool that keeps track of these changes for us,
effectively creating different versions of our files. It allows us to decide
which changes will be made to the next version (each record of these changes is
called a <a href="../reference.html#commit">commit</a>), and keeps useful metadata
about them. The complete history of commits for a particular project and their
metadata make up a <a href="../reference.html#repository">repository</a>.
Repositories can be kept in sync across different computers, facilitating
collaboration among different people.</p>

<blockquote class="challenge">
  <h2 id="paper-writing">Paper Writing</h2>

  <ul>
    <li>
      <p>Imagine you drafted an excellent paragraph for a paper you are writing, but later ruin 
it. How would you retrieve the <em>excellent</em> version of your conclusion? Is it even possible?</p>
    </li>
    <li>
      <p>Imagine you have 5 co-authors. How would you manage the changes and comments 
they make to your paper?  If you use LibreOffice Writer or Microsoft Word, what happens if 
you accept changes made using the <code class="language-plaintext highlighter-rouge">Track Changes</code> option? Do you have a 
history of those changes?</p>
    </li>
  </ul>

  <blockquote class="solution">
    <h2 id="solution">Solution</h2>

    <ul>
      <li>
        <p>Recovering the excellent version is only possible if you created a copy
of the old version of the paper. The danger of losing good versions
often leads to the problematic workflow illustrated in the PhD Comics
cartoon at the top of this page.</p>
      </li>
      <li>
        <p>Collaborative writing with traditional word processors is cumbersome.
Either every collaborator has to work on a document sequentially
(slowing down the process of writing), or you have to send out a
version to all collaborators and manually merge their comments into
your document. The ‘track changes’ or ‘record changes’ option can
highlight changes for you and simplifies merging, but as soon as you
accept changes you will lose their history. You will then no longer
know who suggested that change, why it was suggested, or when it was
merged into the rest of the document. Even online word processors like
Google Docs or Microsoft Office Online do not fully resolve these
problems.</p>
      </li>
    </ul>
  </blockquote>
</blockquote>

<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>Version control is like an unlimited ‘undo’.</p>
</li>
    
    <li><p>Version control also allows many people to work in parallel.</p>
</li>
    
  </ul>
</blockquote>

<hr />

<h1 id="setting-up-and-using-git-and-github" class="maintitle">Setting Up and Using Git and Github</h1>

<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 5 min
      <br />
      <strong>Exercises:</strong> 0 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>How do I get a Github account?</p>
</li>
	
	<li><p>How do I get set up to use Git on the COLA Computers?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Configure <code class="language-plaintext highlighter-rouge">git</code></p>
</li>
	
	<li><p>Understand the meaning of the <code class="language-plaintext highlighter-rouge">--global</code> configuration flag.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<p>Git is a command line version control system that is available by default on most Unix/Linux, Mac computers and can be easily installed for Windows (https://gitforwindows.org/). You can use it on your own computer.  In this class,  we will be using it on the COLA computers where it is already installed.</p>

<p>When we use Git for the first time,
we need to configure a few things. Below are a few examples
of configurations we will set as we get started with Git:</p>

<ul>
  <li>our name and email address,</li>
  <li>and that we want to use these settings globally (i.e. for every project).</li>
</ul>

<p>On a command line, Git commands are written as <code class="language-plaintext highlighter-rouge">git verb options</code>,
where <code class="language-plaintext highlighter-rouge">verb</code> is what we actually want to do and <code class="language-plaintext highlighter-rouge">options</code> is additional optional information which may be needed for the <code class="language-plaintext highlighter-rouge">verb</code>.</p>

<p>First, we can check to see how these options are set by default on the COLA Computers:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--list</span><span class="s2">"
</span></code></pre></div></div>

<p>Here is how Dracula sets up his new laptop:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--global</span> user.name <span class="s2">"Vlad Dracula"</span>
<span class="nv">$ </span>git config <span class="nt">--global</span> user.email <span class="s2">"vlad@tran.sylvan.ia"</span>
</code></pre></div></div>

<p>Please use your own name and email address instead of Dracula’s. This user name and email will be associated with your subsequent Git activity,
which means that any changes pushed to
<a href="https://github.com/">GitHub</a> will include this information.</p>

<p>For these lessons, we will be interacting with <a href="https://github.com/">GitHub</a> and so the email address used should be the same as the one used when setting up your GitHub account. If you are concerned about privacy, please review <a href="https://help.github.com/articles/keeping-your-email-address-private/">GitHub’s instructions for keeping your email address private</a>.</p>

<blockquote class="callout">
  <h2 id="keeping-your-email-private">Keeping your email private</h2>

  <p>If you elect to use a private email address with GitHub, then use that same email address for the <code class="language-plaintext highlighter-rouge">user.email</code> value, e.g. <code class="language-plaintext highlighter-rouge">username@users.noreply.github.com</code> replacing <code class="language-plaintext highlighter-rouge">username</code> with your GitHub one.</p>
</blockquote>

<p>These commands we just ran above only need to be run once: the flag <code class="language-plaintext highlighter-rouge">--global</code> tells Git
to use the settings for every project, in your user account, on this computer.</p>

<p>You can check your settings at any time:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">--list</span>
</code></pre></div></div>

<p>You can change your configuration anytime you want using the same commands.</p>

<blockquote class="callout">
  <h2 id="git-help-and-manual">Git Help and Manual</h2>

  <p>Always remember that if you forget a <code class="language-plaintext highlighter-rouge">git</code> command, you can access the list of commands by using <code class="language-plaintext highlighter-rouge">-h</code> and access the Git manual by using <code class="language-plaintext highlighter-rouge">--help</code> :</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git config <span class="nt">-h</span>
<span class="nv">$ </span>git config <span class="nt">--help</span>
</code></pre></div>  </div>

  <p>While viewing the manual, remember the <code class="language-plaintext highlighter-rouge">:</code> is a prompt waiting for commands and you can press <kbd>Q</kbd> to exit the manual.</p>

</blockquote>

<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>Use <code class="language-plaintext highlighter-rouge">git config</code> with the <code class="language-plaintext highlighter-rouge">--global</code> option to configure a user name and email address</p>
</li>
    
  </ul>
</blockquote>

<hr />

<h1 id="creating-a-repository" class="maintitle">Creating a Repository</h1>

<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 10 min
      <br />
      <strong>Exercises:</strong> 0 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>Where does Git store information?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Create a local Git repository.</p>
</li>
	
	<li><p>Describe the purpose of the <code class="language-plaintext highlighter-rouge">.git</code> directory.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<p>Once Git is configured,
we can start using it.</p>

<p>We will continue with the story of Wolfman and Dracula who are investigating if it
is possible to send a planetary lander to Mars.</p>

<p><img src="../fig/motivatingexample.png" alt="motivatingexample" />
<a href="https://www.deviantart.com/b-maze/art/Werewolf-vs-Dracula-124893530">Werewolf vs dracula</a>
by <a href="https://www.deviantart.com/b-maze">b-maze</a> / <a href="https://www.deviantart.com/">Deviant Art</a>.
<a href="https://en.wikipedia.org/wiki/File:OSIRIS_Mars_true_color.jpg">Mars</a> by European Space Agency /
<a href="https://creativecommons.org/licenses/by/3.0/deed.en">CC-BY-SA 3.0 IGO</a>.
<a href="https://commons.wikimedia.org/wiki/File:PIA19873-Pluto-NewHorizons-FlyingPastImage-20150714-transparent.png">Pluto</a> /
Courtesy NASA/JPL-Caltech.
<a href="https://commons.wikimedia.org/wiki/File:Mummy_icon_-_Noun_Project_4070.svg">Mummy</a>
© Gilad Fried / <a href="https://thenounproject.com/">The Noun Project</a> /
<a href="https://creativecommons.org/licenses/by/3.0/deed.en">CC BY 3.0</a>.
<a href="https://commons.wikimedia.org/wiki/File:Lune_ico.png">Moon</a>
© Luc Viatour / <a href="https://lucnix.be/">https://lucnix.be</a> /
<a href="https://creativecommons.org/licenses/by-sa/3.0/deed.en">CC BY-SA 3.0</a>.</p>

<p>First, let’s create a directory in our home directory for our work and then move into that directory:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> 
<span class="nv">$ </span><span class="nb">mkdir </span>planets
<span class="nv">$ </span><span class="nb">cd </span>planets
</code></pre></div></div>

<p>Then we tell Git to make <code class="language-plaintext highlighter-rouge">planets</code> a <a href="../reference.html#repository">repository</a>
– a place where Git can store versions of our files:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git init
</code></pre></div></div>

<p>It is important to note that <code class="language-plaintext highlighter-rouge">git init</code> will create a repository that
includes subdirectories and their files—there is no need to create
separate repositories nested within the <code class="language-plaintext highlighter-rouge">planets</code> repository, whether
subdirectories are present from the beginning or added later. Also, note
that the creation of the <code class="language-plaintext highlighter-rouge">planets</code> directory and its initialization as a
repository are completely separate processes.</p>

<p>If we use <code class="language-plaintext highlighter-rouge">ls</code> to show the directory’s contents,
it appears that nothing has changed:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span>
</code></pre></div></div>

<p>But if we add the <code class="language-plaintext highlighter-rouge">-a</code> flag to show everything,
we can see that Git has created a hidden directory within <code class="language-plaintext highlighter-rouge">planets</code> called <code class="language-plaintext highlighter-rouge">.git</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-a</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.	..	.git
</code></pre></div></div>

<p>Git uses this special subdirectory to store all the information about the project, 
including all files and sub-directories located within the project’s directory.
If we ever delete the <code class="language-plaintext highlighter-rouge">.git</code> subdirectory,
we will lose the project’s history.</p>

<p>We can check that everything is set up correctly
by asking Git to tell us the status of our project:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div></div>
<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch master

No commits yet

nothing to commit (create/copy files and use "git add" to track)
</code></pre></div></div>

<p>If you are using a different version of <code class="language-plaintext highlighter-rouge">git</code>, the exact
wording of the output might be slightly different.</p>

<blockquote class="challenge">
  <h2 id="places-to-create-git-repositories">Places to Create Git Repositories</h2>

  <p>Along with tracking information about planets (the project we have already created), 
Dracula would also like to track information about moons.
Despite Wolfman’s concerns, Dracula creates a <code class="language-plaintext highlighter-rouge">moons</code> project inside his <code class="language-plaintext highlighter-rouge">planets</code> 
project with the following sequence of commands:</p>

  <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span>             <span class="c"># return to home directory</span>
<span class="nv">$ </span><span class="nb">cd </span>planets     <span class="c"># go into planets directory, which is already a Git repository</span>
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-a</span>          <span class="c"># ensure the .git subdirectory is still present in the planets directory</span>
<span class="nv">$ </span><span class="nb">mkdir </span>moons    <span class="c"># make a subdirectory planets/moons</span>
<span class="nv">$ </span><span class="nb">cd </span>moons       <span class="c"># go into moons subdirectory</span>
<span class="nv">$ </span>git init       <span class="c"># make the moons subdirectory a Git repository</span>
<span class="nv">$ </span><span class="nb">ls</span> <span class="nt">-a</span>          <span class="c"># ensure the .git subdirectory is present indicating we have created a new Git repository</span>
</code></pre></div>  </div>

  <p>Is the <code class="language-plaintext highlighter-rouge">git init</code> command, run inside the <code class="language-plaintext highlighter-rouge">moons</code> subdirectory, required for 
tracking files stored in the <code class="language-plaintext highlighter-rouge">moons</code> subdirectory?</p>

  <blockquote class="solution">
    <h2 id="solution">Solution</h2>

    <p>No. Dracula does not need to make the <code class="language-plaintext highlighter-rouge">moons</code> subdirectory a Git repository 
because the <code class="language-plaintext highlighter-rouge">planets</code> repository will track all files, sub-directories, and 
subdirectory files under the <code class="language-plaintext highlighter-rouge">planets</code> directory.  Thus, in order to track 
all information about moons, Dracula only needed to add the <code class="language-plaintext highlighter-rouge">moons</code> subdirectory
to the <code class="language-plaintext highlighter-rouge">planets</code> directory.</p>

    <p>Additionally, Git repositories can interfere with each other if they are “nested”:
the outer repository will try to version-control
the inner repository. Therefore, it’s best to create each new Git
repository in a separate directory. To be sure that there is no conflicting
repository in the directory, check the output of <code class="language-plaintext highlighter-rouge">git status</code>. If it looks
like the following, you are good to go to create a new repository as shown
above:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div>    </div>
    <div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fatal: Not a git repository (or any of the parent directories): .git
</code></pre></div>    </div>
  </blockquote>
</blockquote>
<blockquote class="challenge">
  <h2 id="correcting-git-init-mistakes">Correcting <code class="language-plaintext highlighter-rouge">git init</code> Mistakes</h2>
  <p>Wolfman explains to Dracula how a nested repository is redundant and may cause confusion
down the road. Dracula would like to remove the nested repository. How can Dracula undo 
his last <code class="language-plaintext highlighter-rouge">git init</code> in the <code class="language-plaintext highlighter-rouge">moons</code> subdirectory?</p>

  <blockquote class="solution">
    <h2 id="solution--use-with-caution">Solution – USE WITH CAUTION!</h2>

    <h3 id="background">Background</h3>
    <p>Removing files from a git repository needs to be done with caution. To remove files from the working tree and not from your working directory, use</p>
    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">rm </span>filename
</code></pre></div>    </div>

    <p>The file being removed has to be in sync with the branch head with no updates. If there are updates, the file can be removed by force by using the <code class="language-plaintext highlighter-rouge">-f</code> option. Similarly a directory can be removed from git using <code class="language-plaintext highlighter-rouge">rm -r dirname</code> or <code class="language-plaintext highlighter-rouge">rm -rf dirname</code>.</p>

    <h3 id="solution-1">Solution</h3>
    <p>Git keeps all of its files in the <code class="language-plaintext highlighter-rouge">.git</code> directory.
To recover from this little mistake, Dracula can just remove the <code class="language-plaintext highlighter-rouge">.git</code>
folder in the moons subdirectory by running the following command from inside the <code class="language-plaintext highlighter-rouge">planets</code> directory:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">rm</span> <span class="nt">-rf</span> moons/.git
</code></pre></div>    </div>

    <p>But be careful! Running this command in the wrong directory, will remove
the entire Git history of a project you might want to keep. Therefore, always check your current directory using the
command <code class="language-plaintext highlighter-rouge">pwd</code>.</p>
  </blockquote>
</blockquote>

<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p><code class="language-plaintext highlighter-rouge">git init</code> initializes a repository.</p>
</li>
    
    <li><p>Git stores all of its repository data in the <code class="language-plaintext highlighter-rouge">.git</code> directory.</p>
</li>
    
  </ul>
</blockquote>

<hr />

<h1 id="tracking-changes" class="maintitle">Tracking Changes</h1>

<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 20 min
      <br />
      <strong>Exercises:</strong> 0 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>How do I record changes in Git?</p>
</li>
	
	<li><p>How do I check the status of my version control repository?</p>
</li>
	
	<li><p>How do I record notes about what changes I made and why?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Go through the modify-add-commit cycle for one or more files.</p>
</li>
	
	<li><p>Explain where information is stored at each stage of that cycle.</p>
</li>
	
	<li><p>Distinguish between descriptive and non-descriptive commit messages.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<p>First let’s make sure we’re still in the right directory.
You should be in the <code class="language-plaintext highlighter-rouge">planets</code> directory.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> ~/planets
</code></pre></div></div>

<p>Let’s create a file called <code class="language-plaintext highlighter-rouge">mars.txt</code> that contains some notes
about the Red Planet’s suitability as a base.
We’ll use <code class="language-plaintext highlighter-rouge">nano</code> to edit the file;
you can use whatever editor you like.
In particular, this does not have to be the <code class="language-plaintext highlighter-rouge">core.editor</code> you set globally earlier. But remember, the bash command to create or edit a new file will depend on the editor you choose (it might not be <code class="language-plaintext highlighter-rouge">nano</code>). For a refresher on text editors, check out <a href="https://swcarpentry.github.io/shell-novice/03-create/">“Which Editor?”</a> in <a href="https://swcarpentry.github.io/shell-novice/">The Unix Shell</a> lesson.</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>nano mars.txt
</code></pre></div></div>

<p>Type the text below into the <code class="language-plaintext highlighter-rouge">mars.txt</code> file:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cold and dry, but everything is my favorite color
</code></pre></div></div>

<p>Let’s first verify that the file was properly created by running the list command (<code class="language-plaintext highlighter-rouge">ls</code>):</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">ls</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>mars.txt
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">mars.txt</code> contains a single line, which we can see by running:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cat </span>mars.txt
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cold and dry, but everything is my favorite color
</code></pre></div></div>

<p>If we check the status of our project again,
Git tells us that it’s noticed the new file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch master

No commits yet

Untracked files:
   (use "git add &lt;file&gt;..." to include in what will be committed)

	mars.txt

nothing added to commit but untracked files present (use "git add" to track)
</code></pre></div></div>

<p>The “untracked files” message means that there’s a file in the directory
that Git isn’t keeping track of.
We can tell Git to track a file using <code class="language-plaintext highlighter-rouge">git add</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git add mars.txt
</code></pre></div></div>

<p>and then check that the right thing happened:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch master

No commits yet

Changes to be committed:
  (use "git rm --cached &lt;file&gt;..." to unstage)

	new file:   mars.txt

</code></pre></div></div>

<p>Git now knows that it’s supposed to keep track of <code class="language-plaintext highlighter-rouge">mars.txt</code>,
but it hasn’t recorded these changes as a commit yet.
To get it to do that,
we need to run one more command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Start notes on Mars as a base"</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[master (root-commit) f22b25e] Start notes on Mars as a base
 1 file changed, 1 insertion(+)
 create mode 100644 mars.txt
</code></pre></div></div>

<p>When we run <code class="language-plaintext highlighter-rouge">git commit</code>,
Git takes everything we have told it to save by using <code class="language-plaintext highlighter-rouge">git add</code>
and stores a copy permanently inside the special <code class="language-plaintext highlighter-rouge">.git</code> directory.
This permanent copy is called a <a href="../reference.html#commit">commit</a>
(or <a href="../reference.html#revision">revision</a>) and its short identifier is <code class="language-plaintext highlighter-rouge">f22b25e</code>. Your commit may have another identifier.</p>

<p>We use the <code class="language-plaintext highlighter-rouge">-m</code> flag (for “message”)
to record a short, descriptive, and specific comment that will help us remember later on what we did and why.
If we just run <code class="language-plaintext highlighter-rouge">git commit</code> without the <code class="language-plaintext highlighter-rouge">-m</code> option,
Git will launch <code class="language-plaintext highlighter-rouge">nano</code> (or whatever other editor we configured as <code class="language-plaintext highlighter-rouge">core.editor</code>)
so that we can write a longer message.</p>

<p><a href="https://chris.beams.io/posts/git-commit/">Good commit messages</a> start with a brief (&lt;50 characters) statement about the
changes made in the commit. Generally, the message should complete the sentence “If applied, this commit will” <commit message="" here="">.
If you want to go into more detail, add a blank line between the summary line and your additional notes. Use this additional space to explain why you made changes and/or what their impact will be.</commit></p>

<p>If we run <code class="language-plaintext highlighter-rouge">git status</code> now:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch master
nothing to commit, working directory clean
</code></pre></div></div>

<p>it tells us everything is up to date.
If we want to know what we’ve done recently,
we can ask Git to show us the project’s history using <code class="language-plaintext highlighter-rouge">git log</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git log
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>commit f22b25e3233b4645dabd0d81e651fe074bd8e73b
Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;
Date:   Thu Aug 22 09:51:46 2013 -0400

    Start notes on Mars as a base
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">git log</code> lists all commits  made to a repository in reverse chronological order.
The listing for each commit includes
the commit’s full identifier
(which starts with the same characters as
the short identifier printed by the <code class="language-plaintext highlighter-rouge">git commit</code> command earlier),
the commit’s author,
when it was created,
and the log message Git was given when the commit was created.</p>

<blockquote class="callout">
  <h2 id="where-are-my-changes">Where Are My Changes?</h2>

  <p>If we run <code class="language-plaintext highlighter-rouge">ls</code> at this point, we will still see just one file called <code class="language-plaintext highlighter-rouge">mars.txt</code>.
That’s because Git saves information about files’ history
in the special <code class="language-plaintext highlighter-rouge">.git</code> directory mentioned earlier
so that our filesystem doesn’t become cluttered
(and so that we can’t accidentally edit or delete an old version).</p>
</blockquote>

<p>Now suppose Dracula adds more information to the file.
(Again, we’ll edit with <code class="language-plaintext highlighter-rouge">nano</code> and then <code class="language-plaintext highlighter-rouge">cat</code> the file to show its contents;
you may use a different editor, and don’t need to <code class="language-plaintext highlighter-rouge">cat</code>.)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>nano mars.txt
<span class="nv">$ </span><span class="nb">cat </span>mars.txt
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cold and dry, but everything is my favorite color
The two moons may be a problem for Wolfman
</code></pre></div></div>

<p>When we run <code class="language-plaintext highlighter-rouge">git status</code> now,
it tells us that a file it already knows about has been modified:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   mars.txt

no changes added to commit (use "git add" and/or "git commit -a")
</code></pre></div></div>

<p>The last line is the key phrase:
“no changes added to commit”.
We have changed this file,
but we haven’t told Git we will want to save those changes
(which we do with <code class="language-plaintext highlighter-rouge">git add</code>)
nor have we saved them (which we do with <code class="language-plaintext highlighter-rouge">git commit</code>).
So let’s do that now. It is good practice to always review
our changes before saving them. We do this using <code class="language-plaintext highlighter-rouge">git diff</code>.
This shows us the differences between the current state
of the file and the most recently saved version:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git diff
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diff --git a/mars.txt b/mars.txt
index df0654a..315bf3a 100644
--- a/mars.txt
+++ b/mars.txt
@@ -1 +1,2 @@
 Cold and dry, but everything is my favorite color
+The two moons may be a problem for Wolfman
</code></pre></div></div>

<p>The output is cryptic because
it is actually a series of commands for tools like editors and <code class="language-plaintext highlighter-rouge">patch</code>
telling them how to reconstruct one file given the other.
If we break it down into pieces:</p>

<ol>
  <li>The first line tells us that Git is producing output similar to the Unix <code class="language-plaintext highlighter-rouge">diff</code> command
comparing the old and new versions of the file.</li>
  <li>The second line tells exactly which versions of the file
Git is comparing;
<code class="language-plaintext highlighter-rouge">df0654a</code> and <code class="language-plaintext highlighter-rouge">315bf3a</code> are unique computer-generated labels for those versions.</li>
  <li>The third and fourth lines once again show the name of the file being changed.</li>
  <li>The remaining lines are the most interesting, they show us the actual differences
and the lines on which they occur.
In particular,
the <code class="language-plaintext highlighter-rouge">+</code> marker in the first column shows where we added a line.</li>
</ol>

<p>After reviewing our change, it’s time to commit it:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Add concerns about effects of Mars' moons on Wolfman"</span>
<span class="nv">$ </span>git status
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch master
Changes not staged for commit:
  (use "git add &lt;file&gt;..." to update what will be committed)
  (use "git checkout -- &lt;file&gt;..." to discard changes in working directory)

	modified:   mars.txt

no changes added to commit (use "git add" and/or "git commit -a")
</code></pre></div></div>

<p>Whoops:
Git won’t commit because we didn’t use <code class="language-plaintext highlighter-rouge">git add</code> first.
Let’s fix that:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git add mars.txt
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Add concerns about effects of Mars' moons on Wolfman"</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[master 34961b1] Add concerns about effects of Mars' moons on Wolfman
 1 file changed, 1 insertion(+)
</code></pre></div></div>

<p>Git insists that we add files to the set we want to commit
before actually committing anything. This allows us to commit our
changes in stages and capture changes in logical portions rather than
only large batches.
For example,
suppose we’re adding a few citations to relevant research to our thesis.
We might want to commit those additions,
and the corresponding bibliography entries,
but <em>not</em> commit some of our work drafting the conclusion
(which we haven’t finished yet).</p>

<p>To allow for this,
Git has a special <em>staging area</em>
where it keeps track of things that have been added to
the current <a href="../reference.html#changeset">changeset</a>
but not yet committed.</p>

<blockquote class="callout">
  <h2 id="staging-area">Staging Area</h2>

  <p>If you think of Git as taking snapshots of changes over the life of a project,
<code class="language-plaintext highlighter-rouge">git add</code> specifies <em>what</em> will go in a snapshot
(putting things in the staging area),
and <code class="language-plaintext highlighter-rouge">git commit</code> then <em>actually takes</em> the snapshot, and
makes a permanent record of it (as a commit).
If you don’t have anything staged when you type <code class="language-plaintext highlighter-rouge">git commit</code>,
Git will prompt you to use <code class="language-plaintext highlighter-rouge">git commit -a</code> or <code class="language-plaintext highlighter-rouge">git commit --all</code>,
which is kind of like gathering <em>everyone</em> to take a group photo!
However, it’s almost always better to
explicitly add things to the staging area, because you might
commit changes you forgot you made. (Going back to the group photo simile,
you might get an extra with incomplete makeup walking on
the stage for the picture because you used <code class="language-plaintext highlighter-rouge">-a</code>!)
Try to stage things manually,
or you might find yourself searching for “git undo commit” more
than you would like!</p>
</blockquote>

<p><img src="../fig/git-staging-area.svg" alt="The Git Staging Area" /></p>

<p>Let’s watch as our changes to a file move from our editor
to the staging area
and into long-term storage.
First,
we’ll add another line to the file:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>nano mars.txt
<span class="nv">$ </span><span class="nb">cat </span>mars.txt
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Cold and dry, but everything is my favorite color
The two moons may be a problem for Wolfman
But the Mummy will appreciate the lack of humidity
</code></pre></div></div>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git diff
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diff --git a/mars.txt b/mars.txt
index 315bf3a..b36abfd 100644
--- a/mars.txt
+++ b/mars.txt
@@ -1,2 +1,3 @@
 Cold and dry, but everything is my favorite color
 The two moons may be a problem for Wolfman
+But the Mummy will appreciate the lack of humidity
</code></pre></div></div>

<p>So far, so good:
we’ve added one line to the end of the file
(shown with a <code class="language-plaintext highlighter-rouge">+</code> in the first column).
Now let’s put that change in the staging area
and see what <code class="language-plaintext highlighter-rouge">git diff</code> reports:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git add mars.txt
<span class="nv">$ </span>git diff
</code></pre></div></div>

<p>There is no output:
as far as Git can tell,
there’s no difference between what it’s been asked to save permanently
and what’s currently in the directory.
However,
if we do this:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git diff <span class="nt">--staged</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>diff --git a/mars.txt b/mars.txt
index 315bf3a..b36abfd 100644
--- a/mars.txt
+++ b/mars.txt
@@ -1,2 +1,3 @@
 Cold and dry, but everything is my favorite color
 The two moons may be a problem for Wolfman
+But the Mummy will appreciate the lack of humidity
</code></pre></div></div>

<p>it shows us the difference between
the last committed change
and what’s in the staging area.
Let’s save our changes:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Discuss concerns about Mars' climate for Mummy"</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>[master 005937f] Discuss concerns about Mars' climate for Mummy
 1 file changed, 1 insertion(+)
</code></pre></div></div>

<p>check our status:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git status
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>On branch master
nothing to commit, working directory clean
</code></pre></div></div>

<p>and look at the history of what we’ve done so far:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git log
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>commit 005937fbe2a98fb83f0ade869025dc2636b4dad5
Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;
Date:   Thu Aug 22 10:14:07 2013 -0400

    Discuss concerns about Mars' climate for Mummy

commit 34961b159c27df3b475cfe4415d94a6d1fcd064d
Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;
Date:   Thu Aug 22 10:07:21 2013 -0400

    Add concerns about effects of Mars' moons on Wolfman

commit f22b25e3233b4645dabd0d81e651fe074bd8e73b
Author: Vlad Dracula &lt;vlad@tran.sylvan.ia&gt;
Date:   Thu Aug 22 09:51:46 2013 -0400

    Start notes on Mars as a base
</code></pre></div></div>

<blockquote class="callout">
  <h2 id="directories">Directories</h2>

  <p>Two important facts you should know about directories in Git.</p>

  <ol>
    <li>
      <p>Git does not track directories on their own, only files within them.
Try it for yourself:</p>

      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>spaceships
<span class="nv">$ </span>git status
<span class="nv">$ </span>git add spaceships
<span class="nv">$ </span>git status
</code></pre></div>      </div>
    </li>
    <li>
      <p>If you create a directory in your Git repository and populate it with files,
you can add all files in the directory at once by:</p>

      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git add &lt;directory-with-files&gt;
</code></pre></div>      </div>

      <p>Try it for yourself:</p>

      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">touch </span>spaceships/apollo-11 spaceships/sputnik-1
<span class="nv">$ </span>git status
<span class="nv">$ </span>git add spaceships
<span class="nv">$ </span>git status
</code></pre></div>      </div>

      <p>Before moving on, we will commit these changes.</p>

      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Add some initial thoughts on spaceships"</span>
</code></pre></div>      </div>
    </li>
  </ol>

</blockquote>

<p>To recap, when we want to add changes to our repository,
we first need to add the changed files to the staging area
(<code class="language-plaintext highlighter-rouge">git add</code>) and then commit the staged changes to the
repository (<code class="language-plaintext highlighter-rouge">git commit</code>):</p>

<p><img src="../fig/git-committing.svg" alt="The Git Commit Workflow" /></p>

<blockquote class="challenge">
  <h2 id="committing-changes-to-git">Committing Changes to Git</h2>

  <p>Which command(s) below would save the changes of <code class="language-plaintext highlighter-rouge">myfile.txt</code>
to my local Git repository?</p>

  <ol>
    <li>
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"my recent changes"</span>
</code></pre></div>      </div>
    </li>
    <li>
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git init myfile.txt
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"my recent changes"</span>
</code></pre></div>      </div>
    </li>
    <li>
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git add myfile.txt
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"my recent changes"</span>
</code></pre></div>      </div>
    </li>
    <li>
      <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git commit <span class="nt">-m</span> myfile.txt <span class="s2">"my recent changes"</span>
</code></pre></div>      </div>
    </li>
  </ol>

  <blockquote class="solution">
    <h2 id="solution">Solution</h2>

    <ol>
      <li>Would only create a commit if files have already been staged.</li>
      <li>Would try to create a new repository.</li>
      <li>Is correct: first add the file to the staging area, then commit.</li>
      <li>Would try to commit a file “my recent changes” with the message myfile.txt.</li>
    </ol>
  </blockquote>
</blockquote>

<blockquote class="challenge">
  <h2 id="bio-repository"><code class="language-plaintext highlighter-rouge">bio</code> Repository</h2>

  <ul>
    <li>Create a new Git repository on your computer called <code class="language-plaintext highlighter-rouge">bio</code>.</li>
    <li>Write a three-line biography for yourself in a file called <code class="language-plaintext highlighter-rouge">me.txt</code>,
commit your changes</li>
    <li>Modify one line, add a fourth line</li>
    <li>Display the differences
between its updated state and its original state.</li>
  </ul>

  <blockquote class="solution">
    <h2 id="solution-1">Solution</h2>

    <p>If needed, move out of the <code class="language-plaintext highlighter-rouge">planets</code> folder:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">cd</span> ..
</code></pre></div>    </div>

    <p>Create a new folder called <code class="language-plaintext highlighter-rouge">bio</code> and ‘move’ into it:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>bio
<span class="nv">$ </span><span class="nb">cd </span>bio
</code></pre></div>    </div>

    <p>Initialise git:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git init
</code></pre></div>    </div>

    <p>Create your biography file <code class="language-plaintext highlighter-rouge">me.txt</code> using <code class="language-plaintext highlighter-rouge">nano</code> or another text editor.
Once in place, add and commit it to the repository:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git add me.txt
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="s2">"Add biography file"</span> 
</code></pre></div>    </div>

    <p>Modify the file as described (modify one line, add a fourth line).
To display the differences
between its updated state and its original state, use <code class="language-plaintext highlighter-rouge">git diff</code>:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git diff me.txt
</code></pre></div>    </div>

  </blockquote>
</blockquote>

<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p><code class="language-plaintext highlighter-rouge">git status</code> shows the status of a repository.</p>
</li>
    
    <li><p>Files can be stored in a project’s working directory (which users see), the staging area (where the next commit is being built up) and the local repository (where commits are permanently recorded).</p>
</li>
    
    <li><p><code class="language-plaintext highlighter-rouge">git add</code> puts files in the staging area.</p>
</li>
    
    <li><p><code class="language-plaintext highlighter-rouge">git commit</code> saves the staged content as a new commit in the local repository.</p>
</li>
    
    <li><p>Write a commit message that accurately describes your changes.</p>
</li>
    
  </ul>
</blockquote>

<hr />

<h1 id="remotes-in-github" class="maintitle">Remotes in GitHub</h1>

<blockquote class="objectives">
  <h2>Overview</h2>

  <div class="row">
    <div class="col-md-3">
      <strong>Teaching:</strong> 30 min
      <br />
      <strong>Exercises:</strong> 0 min
    </div>
    <div class="col-md-9">
      <strong>Questions</strong>
      <ul>
	
	<li><p>How do I share my changes with others on the web?</p>
</li>
	
      </ul>
    </div>
  </div>

  <div class="row">
    <div class="col-md-3">
    </div>
    <div class="col-md-9">
      <strong>Objectives</strong>
      <ul>
	
	<li><p>Explain what remote repositories are and why they are useful.</p>
</li>
	
	<li><p>Push to or pull from a remote repository.</p>
</li>
	
      </ul>
    </div>
  </div>

</blockquote>

<p>Version control really comes into its own when we begin to collaborate with
other people.  We already have most of the machinery we need to do this; the
only thing missing is to copy changes from one repository to another.</p>

<p>Systems like Git allow us to move work between any two repositories.  In
practice, though, it’s easiest to use one copy as a central hub, and to keep it
on the web rather than on someone’s laptop.  Most programmers use hosting
services like <a href="https://github.com">GitHub</a>, <a href="https://bitbucket.org">Bitbucket</a> or
<a href="https://gitlab.com/">GitLab</a> to hold those master copies; we’ll explore the pros
and cons of this in the final section of this lesson.</p>

<p>Let’s start by sharing the changes we’ve made to our current project with the
world.  Log in to GitHub, then click on the icon in the top right corner to
create a new repository called <code class="language-plaintext highlighter-rouge">planets</code>:</p>

<p><img src="../fig/github-create-repo-01.png" alt="Creating a Repository on GitHub (Step 1)" /></p>

<p>Name your repository “planets” and then click “Create Repository”.</p>

<p>Note: Since this repository will be connected to a local repository, it needs to be empty. Leave 
“Initialize this repository with a README” unchecked, and keep “None” as options for both “Add 
.gitignore” and “Add a license.” See the “GitHub License and README files” exercise below for a full 
explanation of why the repository needs to be empty.</p>

<p><img src="../fig/github-create-repo-02.png" alt="Creating a Repository on GitHub (Step 2)" /></p>

<p>As soon as the repository is created, GitHub displays a page with a URL and some
information on how to configure your local repository:</p>

<p><img src="../fig/github-create-repo-03.png" alt="Creating a Repository on GitHub (Step 3)" /></p>

<p>This effectively does the following on GitHub’s servers:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span><span class="nb">mkdir </span>planets
<span class="nv">$ </span><span class="nb">cd </span>planets
<span class="nv">$ </span>git init
</code></pre></div></div>

<p>If you remember back to the earlier <a href="../04-changes/">lesson</a> where we added and
committed our earlier work on <code class="language-plaintext highlighter-rouge">mars.txt</code>, we had a diagram of the local repository
which looked like this:</p>

<p><img src="../fig/git-staging-area.svg" alt="The Local Repository with Git Staging Area" /></p>

<p>Now that we have two repositories, we need a diagram like this:</p>

<p><img src="../fig/git-freshly-made-github-repo.svg" alt="Freshly-Made GitHub Repository" /></p>

<p>Note that our local repository still contains our earlier work on <code class="language-plaintext highlighter-rouge">mars.txt</code>, but the
remote repository on GitHub appears empty as it doesn’t contain any files yet.</p>

<p>The next step is to connect the two repositories.  We do this by making the
GitHub repository a <a href="../reference.html#remote">remote</a> for the local repository.
The home page of the repository on GitHub includes the string we need to
identify it:</p>

<p><img src="../fig/github-find-repo-string.png" alt="Where to Find Repository URL on GitHub" /></p>

<p>Copy that URL from the browser, go into the local <code class="language-plaintext highlighter-rouge">planets</code> repository, and run
this command:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git remote add origin https://github.com/vlad/planets.git
</code></pre></div></div>

<p>Make sure to use the URL for your repository rather than Vlad’s: the only
difference should be your username instead of <code class="language-plaintext highlighter-rouge">vlad</code>.</p>

<p><code class="language-plaintext highlighter-rouge">origin</code> is a local name used to refer to the remote repository. It could be called
anything, but <code class="language-plaintext highlighter-rouge">origin</code> is a convention that is often used by default in git
and GitHub, so it’s helpful to stick with this unless there’s a reason not to.</p>

<p>We can check that the command has worked by running <code class="language-plaintext highlighter-rouge">git remote -v</code>:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git remote <span class="nt">-v</span>
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>origin   https://github.com/vlad/planets.git (push)
origin   https://github.com/vlad/planets.git (fetch)
</code></pre></div></div>

<p>Once the remote is set up, this command will push the changes from
our local repository to the repository on GitHub:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git push origin master
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Enumerating objects: 16, done.
Counting objects: 100% (16/16), done.
Delta compression using up to 8 threads.
Compressing objects: 100% (11/11), done.
Writing objects: 100% (16/16), 1.45 KiB | 372.00 KiB/s, done.
Total 16 (delta 2), reused 0 (delta 0)
remote: Resolving deltas: 100% (2/2), done.
To https://github.com/vlad/planets.git
 * [new branch]      master -&gt; master
</code></pre></div></div>

<p>Our local and remote repositories are now in this state:</p>

<p><img src="../fig/github-repo-after-first-push.svg" alt="GitHub Repository After First Push" /></p>

<p>We can pull changes from the remote repository to the local one as well:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>git pull origin master
</code></pre></div></div>

<div class="language-plaintext output highlighter-rouge"><div class="highlight"><pre class="highlight"><code>From https://github.com/vlad/planets
 * branch            master     -&gt; FETCH_HEAD
Already up-to-date.
</code></pre></div></div>

<p>Pulling has no effect in this case because the two repositories are already
synchronized.  If someone else had pushed some changes to the repository on
GitHub, though, this command would download them to our local repository.</p>

<blockquote class="challenge">
  <h2 id="push-vs-commit">Push vs. Commit</h2>

  <p>In this lesson, we introduced the “git push” command.
How is “git push” different from “git commit”?</p>

  <blockquote class="solution">
    <h2 id="solution">Solution</h2>
    <p>When we push changes, we’re interacting with a remote repository to update it with the changes 
we’ve made locally (often this corresponds to sharing the changes we’ve made with others). 
Commit only updates your local repository.</p>
  </blockquote>
</blockquote>

<blockquote class="keypoints">
  <h2>Key Points</h2>
  <ul>
    
    <li><p>A local Git repository can be connected to one or more remote repositories.</p>
</li>
    
    <li><p><code class="language-plaintext highlighter-rouge">git push</code> copies changes from a local repository to a remote repository.</p>
</li>
    
    <li><p><code class="language-plaintext highlighter-rouge">git pull</code> copies changes from a remote repository to a local repository.</p>
</li>
    
  </ul>
</blockquote>

<hr />


</article>

      
      






<footer>
  <div class="row">
    <div class="col-md-12" align="center">
      Using <a href="https://github.com/carpentries/styles/">The Carpentries style</a>
      version <a href="https://github.com/carpentries/styles/releases/tag/v9.5.3">9.5.3</a>.
    </div>
  </div>
</footer>

      
    </div>
    
<script src="../assets/js/jquery.min.js"></script>
<script src="../assets/js/bootstrap.min.js"></script>
<script src="../assets/js/lesson.js"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-37305346-2', 'auto');
  ga('send', 'pageview');
</script>

  </body>
</html>
